<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1192px" preserveAspectRatio="none" style="width:2621px;height:1192px;background:#FFFFFF;" version="1.1" viewBox="0 0 2621 1192" width="2621px" zoomAndPan="magnify"><defs/><g><g><title>InstanceP1</title><rect fill="#FFFFFF" height="1087.4564" style="stroke:#181818;stroke-width:1;" width="10" x="58.3789" y="49.0679"/></g><g><title>SharedMemoryFactoryP1</title><rect fill="#FFFFFF" height="1087.4564" style="stroke:#181818;stroke-width:1;" width="10" x="429.3781" y="49.0679"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="37.706" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="212.598"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="140.8241" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="412.8341"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="619.0702"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="709.1882"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="771.8762"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="824.5822"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="251.2361" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="885.2882"/></g><g><title>TypedMemoryP1</title><rect fill="#FFFFFF" height="341.0602" style="stroke:#181818;stroke-width:1;" width="10" x="1128.1875" y="149.186"/></g><g><title>os_Stat</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="1630.1143" y="709.1882"/></g><g><title>os_utils_AccessControlList</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="1762.9009" y="771.8762"/></g><g><title>os_Unistd</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="1904.2974" y="824.5822"/></g><g><title>os_Mman</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="1992.2702" y="521.9521"/></g><g><title>os_Mman</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="1992.2702" y="619.0702"/></g><g><title>os_Mman</title><rect fill="#FFFFFF" height="50.706" style="stroke:#181818;stroke-width:1;" width="10" x="1992.2702" y="885.2882"/></g><g><title>MemoryResourceRegistryP1</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="2141.0587" y="1013.4062"/></g><g><title>FooSharedMemoryObject</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="2342.298" y="1076.8183"/></g><g><title>MemoryResourceProxy</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="2527.1784" y="967.7002"/></g><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="524.5378" x="10" y="304.01"/><rect fill="none" height="192.2361" style="stroke:#000000;stroke-width:1.5;" width="1384.1084" x="662.0047" y="369.4221"/><rect fill="none" height="270.924" style="stroke:#000000;stroke-width:1.5;" width="1394.1084" x="652.0047" y="575.6582"/><rect fill="none" height="128.0999" style="stroke:#000000;stroke-width:1.5;" width="1208.1628" x="662.0047" y="665.7762"/><g><title>InstanceP1</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="59.3789" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="63" x2="63" y1="39.0679" y2="1154.5243"/></g><g><title>SharedMemoryFactoryP1</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="430.3781" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="434.2184" x2="434.2184" y1="39.0679" y2="1154.5243"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="764.4364" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="768.0047" x2="768.0047" y1="39.0679" y2="1154.5243"/></g><g><title>TypedMemoryP1</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="1129.1875" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1132.3907" x2="1132.3907" y1="39.0679" y2="1154.5243"/></g><g><title>tmd_ITypedSharedMemory</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="1493.9387" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1497.283" x2="1497.283" y1="39.0679" y2="1154.5243"/></g><g><title>os_Stat</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="1631.1143" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1634.5943" x2="1634.5943" y1="39.0679" y2="1154.5243"/></g><g><title>os_utils_AccessControlList</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="1763.9009" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1767.6342" x2="1767.6342" y1="39.0679" y2="1154.5243"/></g><g><title>os_Unistd</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="1905.2974" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1909.1675" x2="1909.1675" y1="39.0679" y2="1154.5243"/></g><g><title>os_Mman</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="1993.2702" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1996.4273" x2="1996.4273" y1="39.0679" y2="1154.5243"/></g><g><title>MemoryResourceRegistryP1</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="2142.0587" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2145.1131" x2="2145.1131" y1="39.0679" y2="1154.5243"/></g><g><title>FooSharedMemoryObject</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="2343.298" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2347.0043" x2="2347.0043" y1="39.0679" y2="1154.5243"/></g><g><title>MemoryResourceProxy</title><rect fill="#000000" fill-opacity="0.00000" height="1115.4564" width="8" x="2528.1784" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2531.5917" x2="2531.5917" y1="39.0679" y2="1154.5243"/></g><g class="participant participant-head" data-participant="Instance"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86.7577" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.7577" x="27" y="26.9659">InstanceP1</text></g><g class="participant participant-tail" data-participant="Instance"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86.7577" x="20" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.7577" x="27" y="1175.4902">InstanceP1</text></g><g class="participant participant-head" data-participant="Factory"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="180.3194" x="344.2184" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.3194" x="351.2184" y="26.9659">SharedMemoryFactoryP1</text></g><g class="participant participant-tail" data-participant="Factory"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="180.3194" x="344.2184" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.3194" x="351.2184" y="1175.4902">SharedMemoryFactoryP1</text></g><g class="participant participant-head" data-participant="Resource"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192.8633" x="672.0047" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.8633" x="679.0047" y="26.9659">SharedMemoryResourceP1</text></g><g class="participant participant-tail" data-participant="Resource"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="192.8633" x="672.0047" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.8633" x="679.0047" y="1175.4902">SharedMemoryResourceP1</text></g><g class="participant participant-head" data-participant="TypedMemory"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.5936" x="1070.3907" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.5936" x="1077.3907" y="26.9659">TypedMemoryP1</text></g><g class="participant participant-tail" data-participant="TypedMemory"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.5936" x="1070.3907" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.5936" x="1077.3907" y="1175.4902">TypedMemoryP1</text></g><g class="participant participant-head" data-participant="ITypedSharedMemory"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="193.3113" x="1401.283" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.3113" x="1408.283" y="26.9659">tmd_ITypedSharedMemory</text></g><g class="participant participant-tail" data-participant="ITypedSharedMemory"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="193.3113" x="1401.283" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.3113" x="1408.283" y="1175.4902">tmd_ITypedSharedMemory</text></g><g class="participant participant-head" data-participant="Stat"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61.0398" x="1604.5943" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.0398" x="1611.5943" y="26.9659">os_Stat</text></g><g class="participant participant-tail" data-participant="Stat"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="61.0398" x="1604.5943" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47.0398" x="1611.5943" y="1175.4902">os_Stat</text></g><g class="participant participant-head" data-participant="ACL"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184.5334" x="1675.6342" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.5334" x="1682.6342" y="26.9659">os_utils_AccessControlList</text></g><g class="participant participant-tail" data-participant="ACL"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="184.5334" x="1675.6342" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.5334" x="1682.6342" y="1175.4902">os_utils_AccessControlList</text></g><g class="participant participant-head" data-participant="Unistd"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78.2598" x="1870.1675" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.2598" x="1877.1675" y="26.9659">os_Unistd</text></g><g class="participant participant-tail" data-participant="Unistd"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78.2598" x="1870.1675" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.2598" x="1877.1675" y="1175.4902">os_Unistd</text></g><g class="participant participant-head" data-participant="Mman"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.6858" x="1958.4273" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.6858" x="1965.4273" y="26.9659">os_Mman</text></g><g class="participant participant-tail" data-participant="Mman"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77.6858" x="1958.4273" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63.6858" x="1965.4273" y="1175.4902">os_Mman</text></g><g class="participant participant-head" data-participant="Registry"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="199.8913" x="2046.1131" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.8913" x="2053.1131" y="26.9659">MemoryResourceRegistryP1</text></g><g class="participant participant-tail" data-participant="Registry"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="199.8913" x="2046.1131" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.8913" x="2053.1131" y="1175.4902">MemoryResourceRegistryP1</text></g><g class="participant participant-head" data-participant="FooObject"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.5874" x="2256.0043" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.5874" x="2263.0043" y="26.9659">FooSharedMemoryObject</text></g><g class="participant participant-tail" data-participant="FooObject"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.5874" x="2256.0043" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.5874" x="2263.0043" y="1175.4902">FooSharedMemoryObject</text></g><g class="participant participant-head" data-participant="Proxy"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167.1734" x="2448.5917" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.1734" x="2455.5917" y="26.9659">MemoryResourceProxy</text></g><g class="participant participant-tail" data-participant="Proxy"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="167.1734" x="2448.5917" y="1153.5243"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153.1734" x="2455.5917" y="1175.4902">MemoryResourceProxy</text></g><g><title>InstanceP1</title><rect fill="#FFFFFF" height="1087.4564" style="stroke:#181818;stroke-width:1;" width="10" x="58.3789" y="49.0679"/></g><g><title>SharedMemoryFactoryP1</title><rect fill="#FFFFFF" height="1087.4564" style="stroke:#181818;stroke-width:1;" width="10" x="429.3781" y="49.0679"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="37.706" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="212.598"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="140.8241" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="412.8341"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="619.0702"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="709.1882"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="771.8762"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="824.5822"/></g><g><title>SharedMemoryResourceP1</title><rect fill="#FFFFFF" height="251.2361" style="stroke:#181818;stroke-width:1;" width="10" x="763.4364" y="885.2882"/></g><g><title>TypedMemoryP1</title><rect fill="#FFFFFF" height="341.0602" style="stroke:#181818;stroke-width:1;" width="10" x="1128.1875" y="149.186"/></g><g><title>os_Stat</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="1630.1143" y="709.1882"/></g><g><title>os_utils_AccessControlList</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="1762.9009" y="771.8762"/></g><g><title>os_Unistd</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="1904.2974" y="824.5822"/></g><g><title>os_Mman</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="1992.2702" y="521.9521"/></g><g><title>os_Mman</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="1992.2702" y="619.0702"/></g><g><title>os_Mman</title><rect fill="#FFFFFF" height="50.706" style="stroke:#181818;stroke-width:1;" width="10" x="1992.2702" y="885.2882"/></g><g><title>MemoryResourceRegistryP1</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="2141.0587" y="1013.4062"/></g><g><title>FooSharedMemoryObject</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="2342.298" y="1076.8183"/></g><g><title>MemoryResourceProxy</title><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1;" width="10" x="2527.1784" y="967.7002"/></g><g class="message" data-participant-1="Instance" data-participant-2="Factory"><polygon fill="#181818" points="417.3781,68.7739,427.3781,72.7739,417.3781,76.7739,421.3781,72.7739" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="68.3789" x2="423.3781" y1="72.7739" y2="72.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.9993" x="75.3789" y="66.9649">Create("/foo", permissions, size, prefer_typed_memory)</text></g><g class="message" data-participant-1="Factory" data-participant-2="Factory"><line style="stroke:#181818;stroke-width:1;" x1="439.3781" x2="481.3781" y1="104.4799" y2="104.4799"/><line style="stroke:#181818;stroke-width:1;" x1="481.3781" x2="481.3781" y1="104.4799" y2="117.4799"/><line style="stroke:#181818;stroke-width:1;" x1="440.3781" x2="481.3781" y1="117.4799" y2="117.4799"/><polygon fill="#181818" points="450.3781,113.4799,440.3781,117.4799,450.3781,121.4799,446.3781,117.4799" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.1822" x="446.3781" y="98.6709">Check if instances was already created</text></g><g class="message" data-participant-1="Factory" data-participant-2="TypedMemory"><polygon fill="#181818" points="1116.1875,145.186,1126.1875,149.186,1116.1875,153.186,1120.1875,149.186" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="439.3781" x2="1122.1875" y1="149.186" y2="149.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.7581" x="446.3781" y="143.377">TypedMemory::Default()</text></g><g class="message" data-participant-1="TypedMemory" data-participant-2="Factory"><polygon fill="#181818" points="450.3781,176.892,440.3781,180.892,450.3781,184.892,446.3781,180.892" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="444.3781" x2="1127.1875" y1="180.892" y2="180.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.8341" x="456.3781" y="175.083">return TypedMemoryP1</text></g><g class="message" data-participant-1="Factory" data-participant-2="Resource"><polygon fill="#181818" points="751.4364,208.598,761.4364,212.598,751.4364,216.598,755.4364,212.598" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="439.3781" x2="757.4364" y1="212.598" y2="212.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="305.0582" x="446.3781" y="206.789">Create("/foo", permissions, size, TypedMemoryP1)</text></g><g class="message" data-participant-1="Resource" data-participant-2="Resource"><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="815.4364" y1="249.304" y2="249.304"/><line style="stroke:#181818;stroke-width:1;" x1="815.4364" x2="815.4364" y1="249.304" y2="262.304"/><line style="stroke:#181818;stroke-width:1;" x1="768.4364" x2="815.4364" y1="262.304" y2="262.304"/><polygon fill="#181818" points="778.4364,258.304,768.4364,262.304,778.4364,266.304,774.4364,262.304" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307.3983" x="780.4364" y="243.495">mode = calcStatModeForPermissions(permissions)</text></g><g class="message" data-participant-1="TypedMemory" data-participant-2="ITypedSharedMemory"><polygon fill="#181818" points="1485.9387,285.01,1495.9387,289.01,1485.9387,293.01,1489.9387,289.01" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1138.1875" x2="1491.9387" y1="289.01" y2="289.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335.7512" x="1145.1875" y="283.201">AllocateNamedTypedMemory("/foo", permissions, size)</text></g><path d="M10,304.01 L72.459,304.01 L72.459,313.716 L62.459,323.716 L10,323.716 L10,304.01" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="524.5378" x="10" y="304.01"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.459" x="25" y="318.907">alt</text><g class="message" data-participant-1="Factory" data-participant-2="Instance"><polygon fill="#181818" points="79.3789,343.4221,69.3789,347.4221,79.3789,351.4221,75.3789,347.4221" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="73.3789" x2="428.3781" y1="347.4221" y2="347.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.6641" x="85.3789" y="341.6131">return existing instance</text></g><path d="M662.0047,369.4221 L724.4637,369.4221 L724.4637,379.1281 L714.4637,389.1281 L662.0047,389.1281 L662.0047,369.4221" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="192.2361" style="stroke:#000000;stroke-width:1.5;" width="1384.1084" x="662.0047" y="369.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.459" x="677.0047" y="384.3191">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="311.1217" x="739.4637" y="383.181">[AllocateInTypedmemory(typed_memory_ptr_ != nullptr)]</text><g class="message" data-participant-1="Resource" data-participant-2="TypedMemory"><polygon fill="#181818" points="1116.1875,408.8341,1126.1875,412.8341,1116.1875,416.8341,1120.1875,412.8341" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="1122.1875" y1="412.8341" y2="412.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335.7512" x="780.4364" y="407.0251">AllocateNamedTypedMemory("/foo", permissions, size)</text></g><g class="message" data-participant-1="TypedMemory" data-participant-2="Resource"><polygon fill="#181818" points="784.4364,440.5401,774.4364,444.5401,784.4364,448.5401,780.4364,444.5401" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="778.4364" x2="1127.1875" y1="444.5401" y2="444.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46.527" x="790.4364" y="438.7311">success</text></g><g class="message" data-participant-1="TypedMemory" data-participant-2="ITypedSharedMemory"><polygon fill="#181818" points="1485.9387,472.2461,1495.9387,476.2461,1485.9387,480.2461,1489.9387,476.2461" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1138.1875" x2="1491.9387" y1="476.2461" y2="476.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335.7512" x="1145.1875" y="470.4371">AllocateNamedTypedMemory("/foo", permissions, size)</text></g><g class="message" data-participant-1="ITypedSharedMemory" data-participant-2="TypedMemory"><polygon fill="#181818" points="1144.1875,486.2461,1134.1875,490.2461,1144.1875,494.2461,1140.1875,490.2461" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1138.1875" x2="1496.9387" y1="490.2461" y2="490.2461"/></g><g class="message" data-participant-1="Resource" data-participant-2="Mman"><polygon fill="#181818" points="1980.2702,517.9521,1990.2702,521.9521,1980.2702,525.9521,1984.2702,521.9521" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="1986.2702" y1="521.9521" y2="521.9521"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282.2173" x="780.4364" y="516.1431">shm_open(O_RDWR|O_CREAT|O_EXCL, mode)</text></g><g class="message" data-participant-1="Mman" data-participant-2="Resource"><polygon fill="#181818" points="779.4364,549.6582,769.4364,553.6582,779.4364,557.6582,775.4364,553.6582" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="773.4364" x2="1996.2702" y1="553.6582" y2="553.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.7231" x="785.4364" y="547.8492">file_descriptor</text></g><path d="M652.0047,575.6582 L714.4637,575.6582 L714.4637,585.3642 L704.4637,595.3642 L652.0047,595.3642 L652.0047,575.6582" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="270.924" style="stroke:#000000;stroke-width:1.5;" width="1394.1084" x="652.0047" y="575.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.459" x="667.0047" y="590.5552">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="462.1396" x="729.4637" y="589.4171">[AllocateInTypedmemory failed or AllocateInSysram(typed_memory_ptr_ == nullptr)]</text><g class="message" data-participant-1="Resource" data-participant-2="Mman"><polygon fill="#181818" points="1980.2702,615.0702,1990.2702,619.0702,1980.2702,623.0702,1984.2702,619.0702" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="1986.2702" y1="619.0702" y2="619.0702"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.0643" x="780.4364" y="613.2612">shm_open(O_RDWR|O_EXCL, mode)</text></g><g class="message" data-participant-1="Mman" data-participant-2="Resource"><polygon fill="#181818" points="779.4364,646.7762,769.4364,650.7762,779.4364,654.7762,775.4364,650.7762" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="773.4364" x2="1996.2702" y1="650.7762" y2="650.7762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.7231" x="785.4364" y="644.9672">file_descriptor</text></g><path d="M662.0047,665.7762 L724.4637,665.7762 L724.4637,675.4822 L714.4637,685.4822 L662.0047,685.4822 L662.0047,665.7762" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="128.0999" style="stroke:#000000;stroke-width:1.5;" width="1208.1628" x="662.0047" y="665.7762"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.459" x="677.0047" y="680.6732">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="140.304" x="739.4637" y="679.5351">[mode == world-readable]</text><g class="message" data-participant-1="Resource" data-participant-2="Stat"><polygon fill="#181818" points="1618.1143,705.1882,1628.1143,709.1882,1618.1143,713.1882,1622.1143,709.1882" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="1624.1143" y1="709.1882" y2="709.1882"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.4952" x="780.4364" y="703.3792">fchmod(file_descriptor, mode)</text></g><g class="message" data-participant-1="Stat" data-participant-2="Resource"><polygon fill="#181818" points="779.4364,719.1882,769.4364,723.1882,779.4364,727.1882,775.4364,723.1882" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="773.4364" x2="1634.1143" y1="723.1882" y2="723.1882"/></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="662.0047" x2="1870.1675" y1="732.1882" y2="732.1882"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142.5699" x="667.0047" y="743.9472">[mode==UserPermissions]</text><g class="message" data-participant-1="Resource" data-participant-2="ACL"><polygon fill="#181818" points="1750.9009,767.8762,1760.9009,771.8762,1750.9009,775.8762,1754.9009,771.8762" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="1756.9009" y1="771.8762" y2="771.8762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.6273" x="780.4364" y="766.0671">AllowUser(file_descriptor, os::Acl::Permission)</text></g><g class="message" data-participant-1="ACL" data-participant-2="Resource"><polygon fill="#181818" points="779.4364,781.8762,769.4364,785.8762,779.4364,789.8762,775.4364,785.8762" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="773.4364" x2="1766.9009" y1="785.8762" y2="785.8762"/></g><g class="message" data-participant-1="Resource" data-participant-2="Unistd"><polygon fill="#181818" points="1892.2974,820.5822,1902.2974,824.5822,1892.2974,828.5822,1896.2974,824.5822" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="1898.2974" y1="824.5822" y2="824.5822"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.5702" x="780.4364" y="818.7732">ftruncate(file_descriptor, size)</text></g><g class="message" data-participant-1="Unistd" data-participant-2="Resource"><polygon fill="#181818" points="779.4364,834.5822,769.4364,838.5822,779.4364,842.5822,775.4364,838.5822" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="773.4364" x2="1908.2974" y1="838.5822" y2="838.5822"/></g><g class="message" data-participant-1="Resource" data-participant-2="Resource"><line style="stroke:#181818;stroke-width:1;" x1="768.4364" x2="815.4364" y1="872.2882" y2="872.2882"/><line style="stroke:#181818;stroke-width:1;" x1="815.4364" x2="815.4364" y1="872.2882" y2="885.2882"/><line style="stroke:#181818;stroke-width:1;" x1="774.4364" x2="815.4364" y1="885.2882" y2="885.2882"/><polygon fill="#181818" points="784.4364,881.2882,774.4364,885.2882,784.4364,889.2882,780.4364,885.2882" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240.8642" x="780.4364" y="866.4792">GetOwnerUidAndSizeOf(file_descriptor)</text></g><g class="message" data-participant-1="Resource" data-participant-2="Mman"><polygon fill="#181818" points="1980.2702,917.9942,1990.2702,921.9942,1980.2702,925.9942,1984.2702,921.9942" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="1986.2702" y1="921.9942" y2="921.9942"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.6882" x="780.4364" y="916.1852">mmap(map memory into process)</text></g><g class="message" data-participant-1="Mman" data-participant-2="Resource"><polygon fill="#181818" points="784.4364,931.9942,774.4364,935.9942,784.4364,939.9942,780.4364,935.9942" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="778.4364" x2="1996.2702" y1="935.9942" y2="935.9942"/></g><g class="message" data-participant-1="Resource" data-participant-2="Proxy"><polygon fill="#181818" points="2515.1784,963.7002,2525.1784,967.7002,2515.1784,971.7002,2519.1784,967.7002" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="2521.1784" y1="967.7002" y2="967.7002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.3821" x="780.4364" y="961.8912">Instantiate(Unique ID)</text></g><g class="message" data-participant-1="Proxy" data-participant-2="Resource"><polygon fill="#181818" points="784.4364,977.7002,774.4364,981.7002,784.4364,985.7002,780.4364,981.7002" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="778.4364" x2="2531.1784" y1="981.7002" y2="981.7002"/></g><g class="message" data-participant-1="Resource" data-participant-2="Registry"><polygon fill="#181818" points="2129.0587,1009.4062,2139.0587,1013.4062,2129.0587,1017.4062,2133.0587,1013.4062" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="2135.0587" y1="1013.4062" y2="1013.4062"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.2012" x="780.4364" y="1007.5972">insert_resource(uniqueID, this)</text></g><g class="message" data-participant-1="Registry" data-participant-2="Resource"><polygon fill="#181818" points="784.4364,1041.1123,774.4364,1045.1123,784.4364,1049.1123,780.4364,1045.1123" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="778.4364" x2="2145.0587" y1="1045.1123" y2="1045.1123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.2201" x="790.4364" y="1039.3032">return result</text></g><g class="message" data-participant-1="Resource" data-participant-2="FooObject"><polygon fill="#181818" points="2330.298,1072.8183,2340.298,1076.8183,2330.298,1080.8183,2334.298,1076.8183" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="773.4364" x2="2336.298" y1="1076.8183" y2="1076.8183"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="452.9203" x="780.4364" y="1071.0093">initializeInternalsInSharedMemory() - Proxy, alreadyAllocatedBytes, mutex</text></g><g class="message" data-participant-1="FooObject" data-participant-2="Resource"><polygon fill="#181818" points="784.4364,1086.8183,774.4364,1090.8183,784.4364,1094.8183,780.4364,1090.8183" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="778.4364" x2="2346.298" y1="1090.8183" y2="1090.8183"/></g><g class="message" data-participant-1="Resource" data-participant-2="Factory"><polygon fill="#181818" points="450.3781,1118.5243,440.3781,1122.5243,450.3781,1126.5243,446.3781,1122.5243" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="444.3781" x2="762.4364" y1="1122.5243" y2="1122.5243"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.207" x="456.3781" y="1116.7153">instance</text></g><g class="message" data-participant-1="Factory" data-participant-2="Instance"><polygon fill="#181818" points="74.3789,1132.5243,64.3789,1136.5243,74.3789,1140.5243,70.3789,1136.5243" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="68.3789" x2="433.3781" y1="1136.5243" y2="1136.5243"/></g><line style="stroke:#A80036;stroke-width:2;" x1="1988.2702" x2="2006.2702" y1="1127.5243" y2="1145.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="1988.2702" x2="2006.2702" y1="1145.5243" y2="1127.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="2137.0587" x2="2155.0587" y1="1127.5243" y2="1145.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="2137.0587" x2="2155.0587" y1="1145.5243" y2="1127.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="2338.298" x2="2356.298" y1="1127.5243" y2="1145.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="2338.298" x2="2356.298" y1="1145.5243" y2="1127.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="2523.1784" x2="2541.1784" y1="1127.5243" y2="1145.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="2523.1784" x2="2541.1784" y1="1145.5243" y2="1127.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="759.4364" x2="777.4364" y1="1127.5243" y2="1145.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="759.4364" x2="777.4364" y1="1145.5243" y2="1127.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="425.3781" x2="443.3781" y1="1127.5243" y2="1145.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="425.3781" x2="443.3781" y1="1145.5243" y2="1127.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="54.3789" x2="72.3789" y1="1127.5243" y2="1145.5243"/><line style="stroke:#A80036;stroke-width:2;" x1="54.3789" x2="72.3789" y1="1145.5243" y2="1127.5243"/><!--SRC=[jLPVZ-Cc47_tfw3tKaTALFNLKavAixTLfDrcbTogVRCuUxAXjI45tDrK_V0Tm62mdRjhrKQA3CFy-mt3p7nBZl1x1xm2KZFw8cbBJa8IJbkeIGkja5T2cqPKL3F1iooxKAbPnIwKQxBZIbCKVVgUK1Ls2SlnJ2NKZrRHFQqqVXntlxd9V00bEkbr-rt2_l5wyToEAo8aZBgjovqzZ2rOdoVK5A5GvL5JRLZDTtpMQTQeSbDLeDHMS2r5yy2KPTzi7yRSpnpFQdFeLXDJZotbvjXyqyCq9WTuGNcFskyIWNiXObJxJxz2PVt20xVvZFudATviUEmYo_2gs1zKmt35WUAlCVD7PFNU4mkobO1C-RllJaAyMv8Bo9OfXOcabaInFm594auWIsskeNJvjiXw-LJL6QhV23iHrXjIv1Kzf0sQgA-aifRgM3JAXYBP57TmebsZyyM08qwTQ4rMiGyIT2TvcdUnHH-_hm6UA8aS2Pdk5wdYLjH0rgIYJMKIyX6tzq8-3VhpoDOYosgOQivIXEzdNa51DkxHmq-c4aJyjp4XY4Pd17yX94PtVrqXUl26sShuIxZ8B0EERm65Wz4TjnPTFkHnSfGNBKlopPhmhcbmlR06urWbr_vlK1Y5qw0PwZWnXcjHdQq1sPJjlukkKJrJnLOfPkT2TEt9sIHQfjIW- -Us51VW-RuytFry-6jVRWyVDX_n- -6NxSFIPjqeCBP66OejMcaqJgo1iWPLINR1H1Xx54JdalFpkK1E57NN15lKS7wyAknRCscoZjBagv7VH9oamlyU1sS5u-1U_9gy2jdKArFjwAV6EJ66P2e2MgtEA9EFZCUGRiDAJcp7yrJR1cDuuIJoFf6OGsNeq2YmpgpNpmhYsfNDei9EwXxCgs6VuXAgA3PLKnI3fdy4qtHgJyJr5q76_3SncYoUvfph-tX5MdRS9EyKpPTgKA3sCuIXzOF5nF78kuXxlYLOZ-Txpe-WzwySv3EhDxm-eeFxqzZnkGwM9lhqxRKjlUJuztCcurhWG21C9Lraa_UKZPzEejBDB4NVRpGpmKNGEDkItLtadHjf7FSjxVtOaqR33Lc5QLiWTIdxmxopHdPtIwBFJ2LnwESolnXLXxuVeYASHT96tGkcBeJ9pVZ04663Dx7Z6YIdZS8o67M5V45M3iRIZqY-NjO_N3LWKsax3M_H81Vcmh2w6P-1Dt8m7fH2Qv-R1EQ7abXzFrD6f22B6OTJzjKbWD-4W7d2uA2dk2iT18BLNY2OT7jlxsy0]--></g></svg>